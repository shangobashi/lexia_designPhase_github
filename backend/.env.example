# Backend Environment Variables
# Copy this file to .env and fill in your actual values

# Supabase Configuration
SUPABASE_URL=your_supabase_project_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# AI Provider API Keys (all optional; fallback local model works without them)
# Hardcoded demo keys can also be set here to avoid user-provided secrets.
GEMINI_API_KEY=your_gemini_api_key
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
DEMO_GEMINI_KEY=free_or_demo_gemini_key
DEMO_OPENAI_KEY=free_or_demo_openai_key
DEMO_ANTHROPIC_KEY=free_or_demo_anthropic_key
ELEVENLABS_API_KEY=your_elevenlabs_api_key
# Optional voice overrides
ELEVENLABS_ENGLISH_VOICE_ID=onwK4e9ZLuTAKqWW03F9
ELEVENLABS_FRENCH_VOICE_ID=JBFqnCBsd6RMkjVDRZzb
ELEVENLABS_FRENCH_FALLBACK_VOICE_ID=onwK4e9ZLuTAKqWW03F9
ELEVENLABS_STT_MODEL_ID=scribe_v1

# Stripe Configuration (Test Mode)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal Configuration (Sandbox)
PAYPAL_CLIENT_ID=your_paypal_sandbox_client_id
PAYPAL_CLIENT_SECRET=your_paypal_sandbox_secret
PAYPAL_WEBHOOK_SECRET=your_paypal_webhook_secret

# Application Configuration
NODE_ENV=production
PORT=3001
FRONTEND_URL=https://your-frontend-domain.com
ALLOW_GUEST_AI=true

# Night runtime status API (optional, local-first observability)
# Set to false in production unless intentionally exposing this endpoint.
ENABLE_NIGHT_STATUS_API=true
NIGHT_STATUS_FILE=.night/status.json
NIGHT_PUBLIC_STATUS_FILE=public/night-status.json
NIGHT_SESSION_LOG_FILE=.night/logs/sessions.jsonl
NIGHT_ORCHESTRATOR_CONFIG_FILE=agent_configs/night/kingsley_night_orchestrator.json
NIGHT_SELFPROMPT_CONFIG_FILE=agent_configs/night/codex_selfprompt.json
NIGHT_STATUS_STALE_MINUTES=15
NIGHT_STATUS_GRACE_MINUTES=5
NIGHT_STATUS_WINDOW_MINUTES=180
NIGHT_STATUS_SESSION_TAIL_LINES=600
NIGHT_STATUS_SESSION_TAIL_BYTES=524288

# Audit export manifest signing (optional, recommended for legal evidence handoffs)
# Use an Ed25519 private key in PEM format. Keep disabled if no signing key is configured.
AUDIT_MANIFEST_SIGNING_ENABLED=false
# Set to true to expose signing verification details at /api/audit/signing-status.
# Recommended true for internal/staging, and explicitly controlled in production.
AUDIT_MANIFEST_PUBLIC_KEY_EXPOSURE_ENABLED=true
# Set to true to allow server-side manifest verification receipts at /api/audit/verify-manifest.
AUDIT_MANIFEST_VERIFICATION_API_ENABLED=true
# Set to true to allow authenticated runtime trust-registry management endpoints:
# GET/PUT /api/audit/trust-registry
AUDIT_TRUST_REGISTRY_MANAGEMENT_ENABLED=true
# Primary admin control is persisted in profiles.is_trust_admin.
# Keep these allowlists as fallback only for environments where role data is unavailable.
AUDIT_TRUST_REGISTRY_ADMIN_USER_IDS=
AUDIT_TRUST_REGISTRY_ADMIN_EMAILS=security-admin@example.com
# Trust registry policy for verification receipts: off | advisory | enforced
AUDIT_MANIFEST_TRUST_POLICY_MODE=advisory
# Optional comma-separated allowlists for trusted signers.
# If set and mode=enforced, verification fails when key id or fingerprint is not trusted.
AUDIT_MANIFEST_TRUSTED_KEY_IDS=kingsley-ed25519-v1
AUDIT_MANIFEST_TRUSTED_PUBLIC_KEY_SHA256S=
# Optional JSON registry for key lifecycle windows and rotation.
# Example:
# [{"key_id":"kingsley-ed25519-v1","public_key_sha256":"<hex64>","not_before":"2026-01-01T00:00:00Z","not_after":"2027-01-01T00:00:00Z","status":"active"}]
AUDIT_MANIFEST_TRUSTED_SIGNERS_JSON=
# Optional runtime file targets for managed trust-registry entries + audit events
AUDIT_TRUST_REGISTRY_FILE=.night/runtime/audit-trusted-signers.json
AUDIT_TRUST_REGISTRY_AUDIT_LOG_FILE=.night/logs/audit-trust-registry-events.jsonl
AUDIT_TRUST_REGISTRY_SNAPSHOT_FILE=.night/runtime/audit-trust-registry-snapshots.jsonl
AUDIT_MANIFEST_SIGNING_KEY_ID=kingsley-ed25519-v1
AUDIT_MANIFEST_SIGNING_PRIVATE_KEY_PEM=-----BEGIN PRIVATE KEY-----\nREPLACE_WITH_ED25519_PRIVATE_KEY\n-----END PRIVATE KEY-----
